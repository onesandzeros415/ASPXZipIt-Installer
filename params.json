{"name":"Aspxzipit-installer","tagline":"Rackspace CloudSites content and MSSQL backup utility. Rackspace Cloud API KEY required for use.","body":"ASPXZipIt-Installer\r\n===================\r\n\r\nThis is a self install tool for Rackspace CloudSites IIS customers to allow for backing up of their web content and MSSQL database to their CloudFiles account.\r\n\r\nInstaller supports both .NET 3.5, .NET 4.0, and .NET 4.5 without any modification necessary.  Compression is made possible through the [DotNetZip Library](http://dotnetzip.codeplex.com/). \r\n\r\nInstructions:\r\n\r\nStep 1.  Download zip or tar from above.<br />\r\nStep 2.  Uncompress your zip or tar locally on your computer.<br />\r\nStep 3.  Upload ASPXZipIt-Installer.aspx to the root of your web site: \\\\fs4-n01\\stor3wc2dfw1\\xxx\\www.yourdomain.com\\web\\content\\ASPXZipIt-Installer.aspx<br />\r\nStep 4.  Impersonation must be enabled for Installer to work.  Please see [this article](http://www.rackspace.com/knowledge_center/article/how-do-i-add-impersonation-to-my-aspnet-cloud-site) for more information.  Edit your web.config and add the following if you do not already have:<br /><br />\r\n\r\n```<configuration>```<br />\r\n   ```<system.web>```<br />\r\n```<identity impersonate=\"true\" userName=\"dfw\\USERNAME\" password=\"PASSWORD\" />```<br />\r\n   ```</system.web>```<br />\r\n```</configuration>```<br /><br />\r\n```<configuration>```<br />\r\n   ```<system.web>```<br />\r\n```<identity impersonate=\"true\" userName=\"ord\\USERNAME\" password=\"PASSWORD\" />```<br />\r\n   ```</system.web>```<br />\r\n```</configuration>```<br /><br />\r\n\r\nStep 5.  In ftp navigate to \\\\fs4-n01\\stor3wc2dfw1\\xxx\\www.yourdomain.com\\web\\ and right click the content directory and apply a permission set of 770.<br />\r\nStep 6.  Open a browser and browse to ASPXZipIt Installer: www.yourdomain.com/ASPXZipIt-Installer.aspx<br />\r\nStep 7.  Click the rebuild application button to trigger a recompilation of your site to ensure impersonation and permission changes have taken affect.<br />\r\nStep 8.  Select your .NET version 3.5 or 4.0<br />\r\nStep 9.  Enter your CloudFiles API Username and API Key which will be stored in the following location: \\\\fs4-n01\\stor3wc2dfw1\\xxx\\www.yourdomain.com\\web\\content\\aspxzipit\\\r\nStep 10.  Enter a username and password to protect ASPXZipIt from outside users.\r\nStep 11.  Click install ASPXZIPIT<br />\r\nStep 12.  In ftp navigate to \\\\fs4-n01\\stor3wc2dfw1\\xxx\\www.yourdomain.com\\web\\content\\aspxzipit\\ and edit the following values in the Web.config file:<br />\r\n\r\n```<add key=\"CloudFilesUserName\" value=\"USERNAME GOES HERE\" />``` <br />\r\n```<add key=\"CloudFilesApiKey\" value=\"APIKEYGOES HERE\" />```\r\n\r\nStep 13. In ftp set your content directory permissions to 770.  To do this navigate to \\\\fs4-n01\\stor3wc2dfw1\\xxx\\www.yourdomain.com\\web\\content\\ with your preferred FTP program and apply a permission set of 770.<br />\r\nStep 14. Browse to ASPXZipIt and Begin backing up your site: www.yourdomain.com/aspxzipit<br /><br />\r\n\r\nFor access to compiled versions of ASPXZipIt for manual install please see the following:\r\n\r\nASP.NET 3.5:\r\nhttp://onesandzeros415.github.com/ASPXZipIt-NET35/\r\n\r\nASP.NET 4.0\r\nhttp://onesandzeros415.github.com/ASPXZipIt-NET40/\r\n\r\nMSSQL Backup Utility:\r\n\r\nThings to note:\r\n\r\nMSSQL Server must be setup to write to a share with appropriate permissions in place.  The utility essentially has mssql write \r\na backup file to disk and then IIS zips and uploads to CloudFiles.\r\n\t\r\nIn order to use the MSSQL Backup Utility please be sure to install the following stored procedure:\r\n\r\nStep 1. To install a stored procedure open up SSMS (SQL Server Management Studio) <br />\r\nStep 2. Select New Query in the upper right hand corener.  <br />\r\nStep 3. In the query window enter the following:<br />\r\n\r\n\r\n```\r\n\r\nset ANSI_NULLS ON\r\nset QUOTED_IDENTIFIER ON\r\nGO\r\n\r\nCREATE PROCEDURE [dbo].[FullBackup]\r\n@FileName nvarchar(256)\r\nAS\r\nBEGIN\r\n\r\nSET NOCOUNT ON;\r\n\r\nBACKUP DATABASE [123456_YourDatabase] TO DISK = @FileName WITH COPY_ONLY, NOFORMAT, NOINIT, NAME = N'Full Database Backup', SKIP, NOREWIND, NOUNLOAD, STATS = 10\r\n\r\nEND\r\n\r\n```\r\n\r\n\r\nNote:  You skip to step 5 if you use the Install Stored Procedure Button.\r\n\r\nStep 4. Be sure to enter your actual database name where [123456_YourDatabase] is.  <br />\r\nStep 5. Hit Execute to install the query.<br />\r\nStep 6. You can now backup your databse to Rackspace CloudFiles.<br />","google":"UA-34098471-6","note":"Don't delete this file! It's used internally to help with page regeneration."}